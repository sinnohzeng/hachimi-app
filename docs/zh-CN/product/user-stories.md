# 用户故事

## 认证

- **US-1**：作为新用户，我可以用邮箱和密码注册账号，以便我的数据保存到我的账户。
- **US-2**：作为回访用户，我可以用凭据登录，以便访问我的习惯和进度。
- **US-3**：作为已登录用户，我的登录状态在应用重启后持续保留。

## 习惯管理

- **US-4**：作为用户，我可以通过引导流程创建习惯，同时领养一只绑定该习惯的猫咪。
- **US-5**：作为用户，我可以在主界面看到所有习惯，包括今日状态和关联猫咪的 XP 进度。
- **US-6**：作为用户，我可以删除不再需要的习惯，该习惯绑定的猫咪会进入毕业状态。

## 每日专注

- **US-7**：作为用户，我可以为习惯启动专注计时器来追踪我的主动学习时间。
- **US-8**：作为用户，我可以在计时器运行时暂停并在之后恢复。
- **US-9**：作为用户，我可以完成计时器会话，系统会记录时间、奖励 XP 并更新猫咪状态。
- **US-10**：作为用户，若中途放弃（长按「放弃」按钮），只要我专注了至少 5 分钟，仍可获得基础 XP。

## 进度追踪

- **US-11**：作为用户，我可以在猫咪详情页看到我的 91 天专注热力图。
- **US-12**：作为用户，我可以看到每个习惯的当前连续记录和历史最高记录。
- **US-13**：作为用户，我可以在统计界面看到各习惯的累计时长与目标的对比。
- **US-14**：作为用户，我可以看到今日所有习惯的专注分钟总数。

## 猫咪系统

- **US-15**：作为用户，我可以在猫咪房间看到我所有活跃猫咪，它们根据性格分布在不同位置。
- **US-16**：作为用户，我可以点击猫咪查看它的心情气泡和快捷操作（开始专注 / 查看详情）。
- **US-17**：作为用户，我可以在猫咪相册中查看我所有猫咪（包括已毕业的猫咪）。
- **US-18**：作为用户，我可以看到猫咪从幼猫进化到闪光猫的动画，感受专注带来的成长。

## 通知

- **US-19**：作为用户，我可以为每个习惯设置每日提醒时间，到点会收到推送通知。
- **US-20**：作为用户，若晚上 8 点前今日尚未专注且连续记录 ≥ 3 天，我会收到连续记录风险提醒。
- **US-21**：作为用户，当猫咪进化到新阶段时，我会收到庆祝通知。

---

## 验收标准格式

每条用户故事在以下条件全部满足时视为完成：

1. 功能按描述正常运行
2. 相关 Firebase Analytics 事件正确触发
3. UI 遵循 Material Design 3 规范
4. `flutter analyze` 零警告通过
