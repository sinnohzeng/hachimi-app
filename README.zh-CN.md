# Hachimi ğŸ±

<p align="center">
  <strong>å…»çŒ«ã€‚å…»ä¹ æƒ¯ã€‚ä¸€æ¬¡ä¸“æ³¨ï¼Œä¸€æ­¥æˆé•¿ã€‚</strong>
</p>

<p align="center">
  <a href="README.md">ğŸ‡¬ğŸ‡§ English</a>
  &nbsp;Â·&nbsp;
  <a href="docs/zh-CN/README.md">æ–‡æ¡£ç›®å½•</a>
  &nbsp;Â·&nbsp;
  <a href="docs/zh-CN/CONTRIBUTING.md">è´¡çŒ®æŒ‡å—</a>
</p>

<p align="center">
  <img src="https://img.shields.io/badge/Flutter-3.41.1-blue?logo=flutter" alt="Flutter" />
  <img src="https://img.shields.io/badge/Dart-3.11.0-blue?logo=dart" alt="Dart" />
  <img src="https://img.shields.io/badge/Firebase-backend-orange?logo=firebase" alt="Firebase" />
  <img src="https://img.shields.io/badge/Material_Design-3-purple?logo=materialdesign" alt="MD3" />
  <img src="https://img.shields.io/badge/license-All%20Rights%20Reserved-red" alt="License" />
</p>

---

## ä»€ä¹ˆæ˜¯ Hachimiï¼Ÿ

Hachimi æ˜¯ä¸€æ¬¾**å…»çŒ«ä¹ æƒ¯ App**â€”â€”æ¯åˆ›å»ºä¸€ä¸ªä¹ æƒ¯ï¼Œä½ å°±ä¼šé¢†å…»ä¸€åªè™šæ‹ŸçŒ«å’ªæ¥é™ªä¼´è¿™æ®µæˆé•¿æ—…ç¨‹ã€‚ä¸“æ³¨å®Œæˆä¹ æƒ¯ â†’ èµšå– XP â†’ çœ‹ç€çŒ«å’ªä»å°å¥¶çŒ«è¿›åŒ–æˆé—ªé—ªå‘å…‰çš„æˆå¹´çŒ«ã€‚éšç€ä½ å…»æˆæ›´å¤šä¹ æƒ¯ï¼Œæ¸©é¦¨çš„çŒ«å’ªæˆ¿é—´é€æ¸è¢«å„ç§çŒ«å’ªå æ»¡ï¼Œå½¢æˆä½ æˆé•¿å†ç¨‹çš„å¯è§†åŒ–è®°å½•ã€‚

æ ¸å¿ƒç©æ³•å¾ªç¯ï¼š

> **åˆ›å»ºä¹ æƒ¯ â†’ é¢†å…»çŒ«å’ª â†’ å¼€å§‹ä¸“æ³¨è®¡æ—¶ â†’ èµšå– XP å’Œé‡‘å¸ â†’ çŒ«å’ªè¿›åŒ–**

---

## åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒå¾ªç¯
**çŒ«å’ªé¢†å…»** Â· **ä¸“æ³¨è®¡æ—¶å™¨** Â· **XP ä¸è¿›åŒ–**
- æ¯ä¸ªæ–°ä¹ æƒ¯ä» 3 åªéšæœºç”Ÿæˆçš„å€™é€‰çŒ«å’ªä¸­é¢†å…»ä¸€åª
- 15 ç§æ¯›è‰²èŠ±çº¹ Ã— 19 ç§é¢œè‰² Ã— 21 ç§çœ¼è‰² Ã— 6 ç§æ€§æ ¼
- å€’è®¡æ—¶ / æ­£è®¡æ—¶æ¨¡å¼ï¼ŒAndroid å‰å°æœåŠ¡æŒä¹…åŒ–è¿è¡Œ
- XP å…¬å¼ï¼šåŸºç¡€å€¼ + è¿ç»­æ‰“å¡åŠ æˆ + é‡Œç¨‹ç¢‘åŠ æˆ + å…¨å®ŒæˆåŠ æˆ
- 4 ä¸ªæˆé•¿é˜¶æ®µï¼šå¹¼çŒ« â†’ å°‘å¹´çŒ« â†’ æˆå¹´çŒ« â†’ é•¿è€çŒ«

### çŒ«å’ªä¸–ç•Œ
**çŒ«å’ªæˆ¿é—´** Â· **é…é¥°å•†åº—** Â· **èƒŒåŒ…**
- ç™½å¤©/å¤œæ™šæ°›å›´çš„å›¾è§£æˆ¿é—´ï¼Œæ ¹æ®æ€§æ ¼åˆ†é…ä½ç½®
- 100+ é…é¥°ï¼Œ5 æ¡£å®šä»·ï¼ˆ50â€“350 é‡‘å¸ï¼‰
- é‡‘å¸æ¥æºï¼šä¸“æ³¨ï¼ˆ10 é‡‘å¸/åˆ†é’Ÿï¼‰+ æ¯æ—¥ç­¾åˆ°å¥–åŠ±

### AI é™ªä¼´
**çŒ«å’ªèŠå¤©** Â· **AI æ—¥è®°**
- æœ¬åœ° LLMï¼ˆQwen3-1.7Bï¼Œé€šè¿‡ llama_cpp_dartï¼‰ï¼Œæ— äº‘ç«¯ä¾èµ–
- çŒ«å’ªä»¥æ€§æ ¼åŒ–è¯­æ°”å›å¤ï¼Œå®Œå…¨éšç§
- æ¯æ—¥è‡ªåŠ¨ç”Ÿæˆæ—¥è®°ï¼Œèåˆå¿ƒæƒ…/æˆé•¿/ä¸“æ³¨æ•°æ®

### è¿›åº¦ä¸å¥–åŠ±
**ç»Ÿè®¡é¢æ¿** Â· **æ¯æ—¥ç­¾åˆ°** Â· **é€šçŸ¥æé†’**
- å‘¨è¶‹åŠ¿æŸ±çŠ¶å›¾ï¼ˆfl_chartï¼‰+ 91 å¤©çƒ­åŠ›å›¾ + åˆ†é¡µä¸“æ³¨å†å²
- æœˆå† UIï¼Œå¹³æ—¥ 10 / å‘¨æœ« 15 é‡‘å¸ï¼Œ7/14/21/æ»¡æœˆé‡Œç¨‹ç¢‘
- æ¯æ—¥æé†’ + è¿ç»­å¤©æ•°å±é™©æé†’ + å‡çº§åº†ç¥

---

## æŠ€æœ¯æ ˆ

| å±‚æ¬¡ | æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|------|
| UI æ¡†æ¶ | Flutter | 3.41.1 | è·¨å¹³å°ç§»åŠ¨å¼€å‘ |
| ç¼–ç¨‹è¯­è¨€ | Dart | 3.11.0 | ç±»å‹å®‰å…¨ã€ç©ºå®‰å…¨ |
| è®¾è®¡ç³»ç»Ÿ | Material Design 3 | â€” | ç»Ÿä¸€ UI ä¸»é¢˜ |
| çŠ¶æ€ç®¡ç† | Riverpod | 3.2.1 | å“åº”å¼ SSOT æä¾›è€… |
| èº«ä»½è®¤è¯ | Firebase Auth | 6.x | Google + é‚®ç®±ç™»å½• |
| æ•°æ®åº“ | Cloud Firestore | 6.x | å®æ—¶æ•°æ®åŒæ­¥ |
| æœ¬åœ°æ•°æ®åº“ | sqflite | 2.4.x | LLM èŠå¤©è®°å½• + æ—¥è®°ç¼“å­˜ |
| åˆ†æç»Ÿè®¡ | Firebase Analytics | 12.x | GA4 äº‹ä»¶è¿½è¸ª |
| æ€§èƒ½ç›‘æ§ | Firebase Performance | 0.11.x | è‡ªå®šä¹‰ trace + æ€§èƒ½ç›‘æ§ |
| æ¨é€é€šçŸ¥ | Firebase Messaging | 16.x | æœåŠ¡ç«¯è§¦å‘ FCM |
| æœ¬åœ°é€šçŸ¥ | flutter_local_notifications | 20.x | å®šæ—¶æ¯æ—¥æé†’ |
| åå°è®¡æ—¶ | flutter_foreground_task | 9.x | Android å‰å°æœåŠ¡ |
| A/B æµ‹è¯• | Firebase Remote Config | 6.x | åŠ¨æ€é…ç½® |
| å´©æºƒæŠ¥å‘Š | Firebase Crashlytics | 5.x | éè‡´å‘½ + è‡´å‘½é”™è¯¯è¿½è¸ª |
| å›¾è¡¨ | fl_chart | 0.70.x | å‘¨è¶‹åŠ¿ + ç»Ÿè®¡å¯è§†åŒ– |
| åŠ¨æ€é¢œè‰² | dynamic_color | 1.8.x | Material You å–è‰² |
| æœ¬åœ° LLM | llama_cpp_dart | vendored | è®¾å¤‡ç«¯ Qwen3-1.7B æ¨ç† |

---

## é¡¹ç›®ç»“æ„

```
lib/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ constants/       # SSOTï¼šåˆ†æäº‹ä»¶ã€çŒ«å’ªã€LLMã€åƒç´ çŒ«ï¼ˆ4 ä¸ªæ–‡ä»¶ï¼‰
â”‚   â”œâ”€â”€ router/          # å‘½åè·¯ç”±æ³¨å†Œè¡¨
â”‚   â”œâ”€â”€ theme/           # Material 3 ç§å­è‰² + é¢œè‰²å·¥å…·
â”‚   â””â”€â”€ utils/           # é”™è¯¯å¤„ç†ã€æ ¡éªŒå’Œã€æ—¥æœŸå·¥å…·ï¼ˆ9 ä¸ªæ–‡ä»¶ï¼‰
â”œâ”€â”€ models/              # 7 ä¸ª Firestore/æœ¬åœ°æ•°æ®æ¨¡å‹
â”œâ”€â”€ providers/           # 19 ä¸ª Riverpod çŠ¶æ€æä¾›è€…
â”œâ”€â”€ services/            # 19 ä¸ª Firebase + æœ¬åœ°æœåŠ¡å°è£…
â”œâ”€â”€ screens/             # 11 ä¸ªåŠŸèƒ½é¡µé¢ç›®å½•
â””â”€â”€ widgets/             # 17 ä¸ªå¯å¤ç”¨ UI ç»„ä»¶
```

å®Œæ•´æ–‡ä»¶æ¸…å• â†’ [ç›®å½•ç»“æ„](docs/zh-CN/architecture/folder-structure.md)

---

## å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

| å·¥å…· | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| Flutter | 3.41.x stable | `flutter --version` ç¡®è®¤ç‰ˆæœ¬ |
| Dart | 3.11.x | éš Flutter æ†ç»‘ |
| JDK | 17 | `brew install openjdk@17`ï¼ˆmacOSï¼‰|
| Android Studio | æœ€æ–°ç‰ˆ | ç”¨äº AVD / è®¾å¤‡ç®¡ç† |
| Firebase CLI | æœ€æ–°ç‰ˆ | `npm install -g firebase-tools` |
| FlutterFire CLI | æœ€æ–°ç‰ˆ | `dart pub global activate flutterfire_cli` |

> **macOS Homebrew Android SDK è·¯å¾„ï¼š** `/opt/homebrew/share/android-commandlinetools`

### 1. å…‹éš†å¹¶å®‰è£…ä¾èµ–

```bash
git clone https://github.com/sinnohzeng/hachimi-app.git
cd hachimi-app
flutter pub get
```

### 2. é…ç½® Firebase

```bash
firebase login
flutterfire configure --project=YOUR_FIREBASE_PROJECT_ID
```

æ­¤å‘½ä»¤ä¼šç”Ÿæˆ `lib/firebase_options.dart` å’Œ `android/app/google-services.json`ï¼ˆå‡å·²åŠ å…¥ `.gitignore`ï¼Œ**åˆ‡å‹¿æäº¤**ï¼‰ã€‚

### 3. å¯ç”¨ Firebase æœåŠ¡

åœ¨ [Firebase æ§åˆ¶å°](https://console.firebase.google.com)ä¸­ï¼š

1. **èº«ä»½éªŒè¯** â†’ å¯ç”¨**é‚®ç®±/å¯†ç **å’Œ **Google** ç™»å½•
2. **Firestore** â†’ ä»¥**ç”Ÿäº§æ¨¡å¼**åˆ›å»ºæ•°æ®åº“
3. **Analytics** â†’ å¯ç”¨ Google Analytics
4. **Remote Config** â†’ å‘å¸ƒé»˜è®¤å‚æ•°ï¼ˆå‚è§ [remote-config.md](docs/zh-CN/firebase/remote-config.md)ï¼‰
5. **Crashlytics** â†’ åœ¨æ§åˆ¶å°å¯ç”¨
6. **Performance** â†’ åœ¨æ€§èƒ½ç›‘æ§é¢æ¿ä¸­å¯ç”¨

éƒ¨ç½²å®‰å…¨è§„åˆ™ï¼š
```bash
firebase deploy --only firestore:rules
```

### 4. è®¾ç½®æœ¬åœ° LLMï¼ˆå¯é€‰ï¼Œç”¨äº AI èŠå¤©ï¼‰

```bash
bash scripts/setup_llm_vendor.sh
```

æ­¤è„šæœ¬ä¼šä¸‹è½½è®¾å¤‡ç«¯ AI èŠå¤©æ‰€éœ€çš„ Qwen3-1.7B æ¨¡å‹æ–‡ä»¶ã€‚ä¸è®¾ç½®ä¹Ÿèƒ½æ­£å¸¸ä½¿ç”¨ Appï¼Œä½†çŒ«å’ªèŠå¤©å’Œ AI æ—¥è®°åŠŸèƒ½å°†ä¸å¯ç”¨ã€‚

### 5. è¿è¡Œ App

```bash
flutter run                       # æ ‡å‡†è¿è¡Œ

# éƒ¨åˆ†è®¾å¤‡ USB å®‰è£…å¤±è´¥ï¼ˆINSTALL_FAILED_ABORTEDï¼‰æ—¶ï¼š
flutter build apk
adb install -r -t -d build/app/outputs/flutter-apk/app-debug.apk
```

---

## æ–‡æ¡£ç´¢å¼•

| æ–‡æ¡£ | æè¿° |
|------|------|
| [æ¶æ„æ¦‚è§ˆ](docs/zh-CN/architecture/overview.md) | ç³»ç»Ÿè®¾è®¡ã€ä¾èµ–æµå‘ã€SSOT åŸåˆ™ |
| [æ•°æ®æ¨¡å‹](docs/zh-CN/architecture/data-model.md) | Firestore é›†åˆç»“æ„ã€å­—æ®µå®šä¹‰ã€ç´¢å¼• |
| [çŒ«å’ªç³»ç»Ÿ](docs/zh-CN/architecture/cat-system.md) | æ¸¸æˆè®¾è®¡ SSOT â€” å“ç§ã€XPã€å¿ƒæƒ…ã€æˆ¿é—´ä½ç½® |
| [çŠ¶æ€ç®¡ç†](docs/zh-CN/architecture/state-management.md) | Riverpod æä¾›è€…è®¾è®¡ä¸æ•°æ®æµ |
| [ç›®å½•ç»“æ„](docs/zh-CN/architecture/folder-structure.md) | ç›®å½•å¸ƒå±€è§„èŒƒä¸å‘½åè§„åˆ™ |
| [PRD v3.0](docs/zh-CN/product/prd.md) | å®Œæ•´äº§å“éœ€æ±‚æ–‡æ¡£ |
| [ç”¨æˆ·æ•…äº‹](docs/zh-CN/product/user-stories.md) | å„åŠŸèƒ½éªŒæ”¶æ ‡å‡† |
| [Firebase é…ç½®](docs/zh-CN/firebase/setup-guide.md) | Firebase é€æ­¥é…ç½®è¯´æ˜ |
| [åˆ†æäº‹ä»¶](docs/zh-CN/firebase/analytics-events.md) | GA4 è‡ªå®šä¹‰äº‹ä»¶å‚è€ƒï¼ˆSSOTï¼‰|
| [å®‰å…¨è§„åˆ™](docs/zh-CN/firebase/security-rules.md) | Firestore å®‰å…¨è§„åˆ™è¯´æ˜ |
| [Remote Config](docs/zh-CN/firebase/remote-config.md) | A/B æµ‹è¯•å‚æ•°å®šä¹‰ |
| [è®¾è®¡ç³»ç»Ÿ](docs/zh-CN/design/design-system.md) | Material 3 ä¸»é¢˜è§„èŒƒã€é¢œè‰²è§’è‰²ã€å­—ä½“ |
| [å®˜ç½‘éƒ¨ç½²](docs/website/deployment.md) | hachimi.ai å®˜ç½‘éƒ¨ç½²ä¸ç»´æŠ¤ |

---

## æ¶æ„æ¦‚è¦

**ä¾èµ–æµå‘**ï¼ˆå¼ºåˆ¶æ‰§è¡Œ â€” ç¦æ­¢è·¨å±‚è°ƒç”¨ï¼‰ï¼š
```
é¡µé¢ï¼ˆScreensï¼‰â†’ æä¾›è€…ï¼ˆProvidersï¼‰â†’ æœåŠ¡ï¼ˆServicesï¼‰â†’ Firebase SDK
```

**SSOT æ˜ å°„è¡¨ï¼š**

| å…³æ³¨ç‚¹ | æƒå¨æ¥æº |
|--------|---------|
| ä¸šåŠ¡æ•°æ® | Firestore |
| è®¤è¯çŠ¶æ€ | `authStateProvider` |
| çŒ«å’ªåˆ—è¡¨ | `catsProvider` |
| è®¡æ—¶å™¨çŠ¶æ€ | `focusTimerProvider` |
| é‡‘å¸ä½™é¢ | `coinBalanceProvider` |
| èƒŒåŒ… | `inventoryProvider` |
| ç­¾åˆ°çŠ¶æ€ | `checkInProvider` |
| UI ä¸»é¢˜ | `lib/core/theme/app_theme.dart` |
| åˆ†æäº‹ä»¶ | `lib/core/constants/analytics_events.dart` |
| çŒ«å’ªæ¸¸æˆæ•°æ® | `lib/core/constants/cat_constants.dart` |
| LLM é…ç½® | `lib/core/constants/llm_constants.dart` |
| èŠå¤©è®°å½• | SQLiteï¼ˆé€šè¿‡ sqfliteï¼‰|
| åŠ¨æ€é…ç½® | Firebase Remote Config |

---

## Firestore æ•°æ®ç»“æ„ï¼ˆæ¦‚è§ˆï¼‰

```
users/{uid}
â”œâ”€â”€ habits/{habitId}              ä¹ æƒ¯å…ƒæ•°æ® + è¿ç»­å¤©æ•°è¿½è¸ª
â”‚   â””â”€â”€ sessions/{sessionId}     ä¸“æ³¨è®°å½•ï¼ˆXPã€æ—¶é•¿ã€æ¨¡å¼ã€é‡‘å¸ã€çŠ¶æ€ï¼‰
â”œâ”€â”€ cats/{catId}                  çŒ«å’ªçŠ¶æ€ï¼ˆXPã€é˜¶æ®µã€å¿ƒæƒ…ã€æˆ¿é—´ä½ç½®ã€å¤–è§‚ï¼‰
â””â”€â”€ monthlyCheckIns/{YYYY-MM}    æ¯æœˆç­¾åˆ°æ—¥å†ï¼ˆæ—¥æœŸæ˜ å°„ã€è¿ç»­å¤©æ•°ã€é‡‘å¸ï¼‰
```

å®Œæ•´ç»“æ„ â†’ [æ•°æ®æ¨¡å‹](docs/zh-CN/architecture/data-model.md)

---

## è´¡çŒ®

å‚è§ [è´¡çŒ®æŒ‡å—](docs/zh-CN/CONTRIBUTING.md)ã€‚

## è®¸å¯è¯

Copyright (c) 2025â€“2026 Zixuan Zeng. All Rights Reserved.

æœ¬æºä»£ç ä»¥ä½œå“é›†ä¸å‚è€ƒç›®çš„å…¬å¼€ï¼Œä»…å…è®¸æŸ¥é˜…ä¸å‚è€ƒï¼Œæœªç»ä¹¦é¢æˆæƒä¸å¾—å¤åˆ¶ã€ä¿®æ”¹ã€åˆ†å‘æˆ–ä½¿ç”¨ã€‚
å®Œæ•´æ¡æ¬¾è¯¦è§ [LICENSE](LICENSE)ã€‚
